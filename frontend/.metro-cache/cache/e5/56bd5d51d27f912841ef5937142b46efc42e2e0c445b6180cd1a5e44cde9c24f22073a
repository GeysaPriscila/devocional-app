{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const EXPO_PUBLIC_BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredData();\n    }, []);\n    async function loadStoredData() {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('@devotional:token');\n        const storedUser = await AsyncStorage.default.getItem('@devotional:user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading stored data:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function signIn(email, password) {\n      try {\n        const response = await axios.default.post(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        setToken(access_token);\n        setUser(userData);\n        await AsyncStorage.default.setItem('@devotional:token', access_token);\n        await AsyncStorage.default.setItem('@devotional:user', JSON.stringify(userData));\n      } catch (error) {\n        console.error('Sign in error:', error);\n        throw new Error(error.response?.data?.detail || 'Erro ao fazer login');\n      }\n    }\n    async function signUp(email, password, name) {\n      try {\n        const response = await axios.default.post(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/register`, {\n          email,\n          password,\n          name\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        setToken(access_token);\n        setUser(userData);\n        await AsyncStorage.default.setItem('@devotional:token', access_token);\n        await AsyncStorage.default.setItem('@devotional:user', JSON.stringify(userData));\n      } catch (error) {\n        console.error('Sign up error:', error);\n        throw new Error(error.response?.data?.detail || 'Erro ao criar conta');\n      }\n    }\n    async function signOut() {\n      setToken(null);\n      setUser(null);\n      await AsyncStorage.default.removeItem('@devotional:token');\n      await AsyncStorage.default.removeItem('@devotional:user');\n    }\n    async function updateTheme(theme) {\n      try {\n        await axios.default.put(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/theme`, {\n          theme\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const updatedUser = {\n          ...user,\n          theme\n        };\n        setUser(updatedUser);\n        await AsyncStorage.default.setItem('@devotional:user', JSON.stringify(updatedUser));\n      } catch (error) {\n        console.error('Error updating theme:', error);\n      }\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        signIn,\n        signUp,\n        signOut,\n        updateTheme\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }, this);\n  };\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":139,"map":[[13,2,25,0,"Object"],[13,8,25,0],[13,9,25,0,"defineProperty"],[13,23,25,0],[13,24,25,0,"exports"],[13,31,25,0],[14,4,25,0,"enumerable"],[14,14,25,0],[15,4,25,0,"get"],[15,7,25,0],[15,18,25,0,"get"],[15,19,25,0],[16,6,25,0],[16,13,25,0,"AuthProvider"],[16,25,25,0],[17,4,25,0],[18,2,25,0],[19,2,135,0,"exports"],[19,9,135,0],[19,10,135,0,"useAuth"],[19,17,135,0],[19,20,135,0,"useAuth"],[19,27,135,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_axios"],[23,12,3,0],[23,15,3,0,"require"],[23,22,3,0],[23,23,3,0,"_dependencyMap"],[23,37,3,0],[24,2,3,0],[24,6,3,0,"axios"],[24,11,3,0],[24,14,3,0,"_interopDefault"],[24,29,3,0],[24,30,3,0,"_axios"],[24,36,3,0],[25,2,3,26],[25,6,3,26,"_reactJsxDevRuntime"],[25,25,3,26],[25,28,3,26,"require"],[25,35,3,26],[25,36,3,26,"_dependencyMap"],[25,50,3,26],[26,2,5,0],[26,8,5,6,"EXPO_PUBLIC_BACKEND_URL"],[26,31,5,29],[26,34,5,32,"process"],[26,41,5,39],[26,42,5,40,"env"],[26,45,5,43],[26,46,5,44,"EXPO_PUBLIC_BACKEND_URL"],[26,69,5,67],[27,2,23,0],[27,8,23,6,"AuthContext"],[27,19,23,17],[27,35,23,20],[27,39,23,20,"createContext"],[27,45,23,33],[27,46,23,33,"createContext"],[27,59,23,33],[27,61,23,51],[27,62,23,52],[27,63,23,72],[27,64,23,73],[28,2,25,7],[28,8,25,13,"AuthProvider"],[28,20,25,66],[28,23,25,69,"AuthProvider"],[28,24,25,70],[29,4,25,72,"children"],[30,2,25,81],[30,3,25,82],[30,8,25,87],[31,4,26,2],[31,10,26,8],[31,11,26,9,"user"],[31,15,26,13],[31,17,26,15,"setUser"],[31,24,26,22],[31,25,26,23],[31,28,26,26],[31,32,26,26,"useState"],[31,38,26,34],[31,39,26,34,"useState"],[31,47,26,34],[31,49,26,48],[31,53,26,52],[31,54,26,53],[32,4,27,2],[32,10,27,8],[32,11,27,9,"token"],[32,16,27,14],[32,18,27,16,"setToken"],[32,26,27,24],[32,27,27,25],[32,30,27,28],[32,34,27,28,"useState"],[32,40,27,36],[32,41,27,36,"useState"],[32,49,27,36],[32,51,27,52],[32,55,27,56],[32,56,27,57],[33,4,28,2],[33,10,28,8],[33,11,28,9,"loading"],[33,18,28,16],[33,20,28,18,"setLoading"],[33,30,28,28],[33,31,28,29],[33,34,28,32],[33,38,28,32,"useState"],[33,44,28,40],[33,45,28,40,"useState"],[33,53,28,40],[33,55,28,41],[33,59,28,45],[33,60,28,46],[34,4,30,2],[34,8,30,2,"useEffect"],[34,14,30,11],[34,15,30,11,"useEffect"],[34,24,30,11],[34,26,30,12],[34,32,30,18],[35,6,31,4,"loadStoredData"],[35,20,31,18],[35,21,31,19],[35,22,31,20],[36,4,32,2],[36,5,32,3],[36,7,32,5],[36,9,32,7],[36,10,32,8],[37,4,34,2],[37,19,34,17,"loadStoredData"],[37,33,34,31,"loadStoredData"],[37,34,34,31],[37,36,34,34],[38,6,35,4],[38,10,35,8],[39,8,36,6],[39,14,36,12,"storedToken"],[39,25,36,23],[39,28,36,26],[39,34,36,32,"AsyncStorage"],[39,46,36,44],[39,47,36,44,"default"],[39,54,36,44],[39,55,36,45,"getItem"],[39,62,36,52],[39,63,36,53],[39,82,36,72],[39,83,36,73],[40,8,37,6],[40,14,37,12,"storedUser"],[40,24,37,22],[40,27,37,25],[40,33,37,31,"AsyncStorage"],[40,45,37,43],[40,46,37,43,"default"],[40,53,37,43],[40,54,37,44,"getItem"],[40,61,37,51],[40,62,37,52],[40,80,37,70],[40,81,37,71],[41,8,39,6],[41,12,39,10,"storedToken"],[41,23,39,21],[41,27,39,25,"storedUser"],[41,37,39,35],[41,39,39,37],[42,10,40,8,"setToken"],[42,18,40,16],[42,19,40,17,"storedToken"],[42,30,40,28],[42,31,40,29],[43,10,41,8,"setUser"],[43,17,41,15],[43,18,41,16,"JSON"],[43,22,41,20],[43,23,41,21,"parse"],[43,28,41,26],[43,29,41,27,"storedUser"],[43,39,41,37],[43,40,41,38],[43,41,41,39],[44,8,42,6],[45,6,43,4],[45,7,43,5],[45,8,43,6],[45,15,43,13,"error"],[45,20,43,18],[45,22,43,20],[46,8,44,6,"console"],[46,15,44,13],[46,16,44,14,"error"],[46,21,44,19],[46,22,44,20],[46,50,44,48],[46,52,44,50,"error"],[46,57,44,55],[46,58,44,56],[47,6,45,4],[47,7,45,5],[47,16,45,14],[48,8,46,6,"setLoading"],[48,18,46,16],[48,19,46,17],[48,24,46,22],[48,25,46,23],[49,6,47,4],[50,4,48,2],[51,4,50,2],[51,19,50,17,"signIn"],[51,25,50,23,"signIn"],[51,26,50,24,"email"],[51,31,50,37],[51,33,50,39,"password"],[51,41,50,55],[51,43,50,57],[52,6,51,4],[52,10,51,8],[53,8,52,6],[53,14,52,12,"response"],[53,22,52,20],[53,25,52,23],[53,31,52,29,"axios"],[53,36,52,34],[53,37,52,34,"default"],[53,44,52,34],[53,45,52,35,"post"],[53,49,52,39],[53,50,52,40],[53,53,52,43,"EXPO_PUBLIC_BACKEND_URL"],[53,76,52,66],[53,93,52,83],[53,95,52,85],[54,10,53,8,"email"],[54,15,53,13],[55,10,54,8,"password"],[56,8,55,6],[56,9,55,7],[56,10,55,8],[57,8,57,6],[57,14,57,12],[58,10,57,14,"access_token"],[58,22,57,26],[59,10,57,28,"user"],[59,14,57,32],[59,16,57,34,"userData"],[60,8,57,43],[60,9,57,44],[60,12,57,47,"response"],[60,20,57,55],[60,21,57,56,"data"],[60,25,57,60],[61,8,59,6,"setToken"],[61,16,59,14],[61,17,59,15,"access_token"],[61,29,59,27],[61,30,59,28],[62,8,60,6,"setUser"],[62,15,60,13],[62,16,60,14,"userData"],[62,24,60,22],[62,25,60,23],[63,8,62,6],[63,14,62,12,"AsyncStorage"],[63,26,62,24],[63,27,62,24,"default"],[63,34,62,24],[63,35,62,25,"setItem"],[63,42,62,32],[63,43,62,33],[63,62,62,52],[63,64,62,54,"access_token"],[63,76,62,66],[63,77,62,67],[64,8,63,6],[64,14,63,12,"AsyncStorage"],[64,26,63,24],[64,27,63,24,"default"],[64,34,63,24],[64,35,63,25,"setItem"],[64,42,63,32],[64,43,63,33],[64,61,63,51],[64,63,63,53,"JSON"],[64,67,63,57],[64,68,63,58,"stringify"],[64,77,63,67],[64,78,63,68,"userData"],[64,86,63,76],[64,87,63,77],[64,88,63,78],[65,6,64,4],[65,7,64,5],[65,8,64,6],[65,15,64,13,"error"],[65,20,64,23],[65,22,64,25],[66,8,65,6,"console"],[66,15,65,13],[66,16,65,14,"error"],[66,21,65,19],[66,22,65,20],[66,38,65,36],[66,40,65,38,"error"],[66,45,65,43],[66,46,65,44],[67,8,66,6],[67,14,66,12],[67,18,66,16,"Error"],[67,23,66,21],[67,24,66,22,"error"],[67,29,66,27],[67,30,66,28,"response"],[67,38,66,36],[67,40,66,38,"data"],[67,44,66,42],[67,46,66,44,"detail"],[67,52,66,50],[67,56,66,54],[67,77,66,75],[67,78,66,76],[68,6,67,4],[69,4,68,2],[70,4,70,2],[70,19,70,17,"signUp"],[70,25,70,23,"signUp"],[70,26,70,24,"email"],[70,31,70,37],[70,33,70,39,"password"],[70,41,70,55],[70,43,70,57,"name"],[70,47,70,69],[70,49,70,71],[71,6,71,4],[71,10,71,8],[72,8,72,6],[72,14,72,12,"response"],[72,22,72,20],[72,25,72,23],[72,31,72,29,"axios"],[72,36,72,34],[72,37,72,34,"default"],[72,44,72,34],[72,45,72,35,"post"],[72,49,72,39],[72,50,72,40],[72,53,72,43,"EXPO_PUBLIC_BACKEND_URL"],[72,76,72,66],[72,96,72,86],[72,98,72,88],[73,10,73,8,"email"],[73,15,73,13],[74,10,74,8,"password"],[74,18,74,16],[75,10,75,8,"name"],[76,8,76,6],[76,9,76,7],[76,10,76,8],[77,8,78,6],[77,14,78,12],[78,10,78,14,"access_token"],[78,22,78,26],[79,10,78,28,"user"],[79,14,78,32],[79,16,78,34,"userData"],[80,8,78,43],[80,9,78,44],[80,12,78,47,"response"],[80,20,78,55],[80,21,78,56,"data"],[80,25,78,60],[81,8,80,6,"setToken"],[81,16,80,14],[81,17,80,15,"access_token"],[81,29,80,27],[81,30,80,28],[82,8,81,6,"setUser"],[82,15,81,13],[82,16,81,14,"userData"],[82,24,81,22],[82,25,81,23],[83,8,83,6],[83,14,83,12,"AsyncStorage"],[83,26,83,24],[83,27,83,24,"default"],[83,34,83,24],[83,35,83,25,"setItem"],[83,42,83,32],[83,43,83,33],[83,62,83,52],[83,64,83,54,"access_token"],[83,76,83,66],[83,77,83,67],[84,8,84,6],[84,14,84,12,"AsyncStorage"],[84,26,84,24],[84,27,84,24,"default"],[84,34,84,24],[84,35,84,25,"setItem"],[84,42,84,32],[84,43,84,33],[84,61,84,51],[84,63,84,53,"JSON"],[84,67,84,57],[84,68,84,58,"stringify"],[84,77,84,67],[84,78,84,68,"userData"],[84,86,84,76],[84,87,84,77],[84,88,84,78],[85,6,85,4],[85,7,85,5],[85,8,85,6],[85,15,85,13,"error"],[85,20,85,23],[85,22,85,25],[86,8,86,6,"console"],[86,15,86,13],[86,16,86,14,"error"],[86,21,86,19],[86,22,86,20],[86,38,86,36],[86,40,86,38,"error"],[86,45,86,43],[86,46,86,44],[87,8,87,6],[87,14,87,12],[87,18,87,16,"Error"],[87,23,87,21],[87,24,87,22,"error"],[87,29,87,27],[87,30,87,28,"response"],[87,38,87,36],[87,40,87,38,"data"],[87,44,87,42],[87,46,87,44,"detail"],[87,52,87,50],[87,56,87,54],[87,77,87,75],[87,78,87,76],[88,6,88,4],[89,4,89,2],[90,4,91,2],[90,19,91,17,"signOut"],[90,26,91,24,"signOut"],[90,27,91,24],[90,29,91,27],[91,6,92,4,"setToken"],[91,14,92,12],[91,15,92,13],[91,19,92,17],[91,20,92,18],[92,6,93,4,"setUser"],[92,13,93,11],[92,14,93,12],[92,18,93,16],[92,19,93,17],[93,6,94,4],[93,12,94,10,"AsyncStorage"],[93,24,94,22],[93,25,94,22,"default"],[93,32,94,22],[93,33,94,23,"removeItem"],[93,43,94,33],[93,44,94,34],[93,63,94,53],[93,64,94,54],[94,6,95,4],[94,12,95,10,"AsyncStorage"],[94,24,95,22],[94,25,95,22,"default"],[94,32,95,22],[94,33,95,23,"removeItem"],[94,43,95,33],[94,44,95,34],[94,62,95,52],[94,63,95,53],[95,4,96,2],[96,4,98,2],[96,19,98,17,"updateTheme"],[96,30,98,28,"updateTheme"],[96,31,98,29,"theme"],[96,36,98,42],[96,38,98,44],[97,6,99,4],[97,10,99,8],[98,8,100,6],[98,14,100,12,"axios"],[98,19,100,17],[98,20,100,17,"default"],[98,27,100,17],[98,28,100,18,"put"],[98,31,100,21],[98,32,101,8],[98,35,101,11,"EXPO_PUBLIC_BACKEND_URL"],[98,58,101,34],[98,75,101,51],[98,77,102,8],[99,10,102,10,"theme"],[100,8,102,16],[100,9,102,17],[100,11,103,8],[101,10,104,10,"headers"],[101,17,104,17],[101,19,104,19],[102,12,105,12,"Authorization"],[102,25,105,25],[102,27,105,27],[102,37,105,37,"token"],[102,42,105,42],[103,10,106,10],[104,8,107,8],[104,9,108,6],[104,10,108,7],[105,8,110,6],[105,14,110,12,"updatedUser"],[105,25,110,23],[105,28,110,26],[106,10,110,28],[106,13,110,31,"user"],[106,17,110,36],[107,10,110,38,"theme"],[108,8,110,44],[108,9,110,45],[109,8,111,6,"setUser"],[109,15,111,13],[109,16,111,14,"updatedUser"],[109,27,111,25],[109,28,111,26],[110,8,112,6],[110,14,112,12,"AsyncStorage"],[110,26,112,24],[110,27,112,24,"default"],[110,34,112,24],[110,35,112,25,"setItem"],[110,42,112,32],[110,43,112,33],[110,61,112,51],[110,63,112,53,"JSON"],[110,67,112,57],[110,68,112,58,"stringify"],[110,77,112,67],[110,78,112,68,"updatedUser"],[110,89,112,79],[110,90,112,80],[110,91,112,81],[111,6,113,4],[111,7,113,5],[111,8,113,6],[111,15,113,13,"error"],[111,20,113,18],[111,22,113,20],[112,8,114,6,"console"],[112,15,114,13],[112,16,114,14,"error"],[112,21,114,19],[112,22,114,20],[112,45,114,43],[112,47,114,45,"error"],[112,52,114,50],[112,53,114,51],[113,6,115,4],[114,4,116,2],[115,4,118,2],[115,24,119,4],[115,28,119,4,"_reactJsxDevRuntime"],[115,47,119,4],[115,48,119,4,"jsxDEV"],[115,54,119,4],[115,56,119,5,"AuthContext"],[115,67,119,16],[115,68,119,17,"Provider"],[115,76,119,25],[116,6,120,6,"value"],[116,11,120,11],[116,13,120,13],[117,8,121,8,"user"],[117,12,121,12],[118,8,122,8,"token"],[118,13,122,13],[119,8,123,8,"loading"],[119,15,123,15],[120,8,124,8,"signIn"],[120,14,124,14],[121,8,125,8,"signUp"],[121,14,125,14],[122,8,126,8,"signOut"],[122,15,126,15],[123,8,127,8,"updateTheme"],[124,6,128,6],[124,7,128,8],[125,6,128,8,"children"],[125,14,128,8],[125,16,130,7,"children"],[126,4,130,15],[127,6,130,15,"fileName"],[127,14,130,15],[127,16,130,15,"_jsxFileName"],[127,28,130,15],[128,6,130,15,"lineNumber"],[128,16,130,15],[129,6,130,15,"columnNumber"],[129,18,130,15],[130,4,130,15],[130,11,131,26],[130,12,131,27],[131,2,133,0],[131,3,133,1],[132,2,135,7],[132,11,135,16,"useAuth"],[132,18,135,23,"useAuth"],[132,19,135,23],[132,21,135,26],[133,4,136,2],[133,10,136,8,"context"],[133,17,136,15],[133,20,136,18],[133,24,136,18,"useContext"],[133,30,136,28],[133,31,136,28,"useContext"],[133,41,136,28],[133,43,136,29,"AuthContext"],[133,54,136,40],[133,55,136,41],[134,4,137,2],[134,8,137,6],[134,9,137,7,"context"],[134,16,137,14],[134,18,137,16],[135,6,138,4],[135,12,138,10],[135,16,138,14,"Error"],[135,21,138,19],[135,22,138,20],[135,67,138,65],[135,68,138,66],[136,4,139,2],[137,4,140,2],[137,11,140,9,"context"],[137,18,140,16],[138,2,141,0],[139,0,141,1],[139,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredData","signIn","signUp","signOut","updateTheme","useAuth"],"mappings":"AAA;qECwB;YCK;GDE;EEE;GFc;EGE;GHkB;EIE;GJmB;EKE;GLK;EME;GNkB;CDiB;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}